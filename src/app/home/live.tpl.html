<div ng-controller="liveCtrl">
  <section id="live">
    <div class="panel panel-warning">
      <div class="panel-heading text-center">
          <strong>Les 5 derniers réveils activés sur {{ liveData.length }}</strong>
      </div>
      <div class="panel-body">
        <table class="table table-striped" ng-show="liveData.length > 0">
            <tr>
              <th class="text-center">URL</th>
              <th class="text-center">Heure</th>
            </tr>
            <tr class="animate-repeat" ng-repeat="l in liveData.slice().reverse() | limitTo:5 track by $index" ng-show="l.url != null">
              <td class="crop">
                <a target="_BLANK" href="{{ l.url }}">
                  {{ l.url.substr(0, 30) }}<span ng-show="l.url.length > 30">...</span>
                </a>
              </td>
              <td>
                <!--<span class="label label-default">-->
                  <span am-time-ago="l.time"></span>
                <!--</span>-->
                <!-- à {{ l.time | amDateFormat:'HH:mm' }} le {{ l.time | amDateFormat:'D MMMM' }}-->
              </td>
            </tr>
         </table>
         <center ng-show="liveData.length === 0">
           <p>Chargement...</p>
           <p>
             Si cela dure trop longtemps il se peut que le compte gratuit de <a href="https://www.firebase.com/pricing.html">Firebase</a> est atteint son nombre de connexions maximum...
           </p>
           <p>
             Firebase est une base de donnée en ligne permettant de faire du temps réel facilement. Dans notre cas il affiche pour tous les utilisateurs connectés l'heure et l'URL d'une alarme lorsqu'elle sonne, fun non?
           </p>
         </center>

      </div>
    </div>
  </section>
</div>
